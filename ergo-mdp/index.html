<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire</title>
</head>
<body>
    <form action="#" method="post">
        <!-- Premi√®re ligne : Zone de texte pour l'email -->
        <div>
            <label for="email">Email :</label>
            <input type="email" id="email" name="email" required>
        </div>
        
        <!-- Deuxi√®me ligne : Zone de texte pour le mot de passe + bouton V√©rifier -->
        <div>
            <label for="password">Mot de passe :</label>
            <input type="password" id="password" name="password" required>
            <button type="button" id="verifier" onclick="verifier()">V√©rifier</button>
			<!--test1 -->
        </div>
        
        <!-- Troisi√®me ligne : Zone de texte pour la confirmation du mot de passe + bouton V√©rifier 2 -->
        <div>
            <label for="conf_password">Confirmer mot de passe :</label>
            <input type="password" id="conf_password" name="conf_password" required>
            <button type="button" id="verifier2" onclick="verifier()">V√©rifier</button>
        </div>
        
        <!-- Quatri√®me ligne : Boutons "Ok" et "Annuler" -->
        <div>
            <button type="submit">Ok</button>
			<button class="toggle-visibility" onclick="togglePasswordVisibility()">üëÅÔ∏è</button>
            <button type="reset">Annuler</button>
			<button onclick="validatePassword()">Valider</button>
			<p id="message"></p>
        </div>
    </form>

    <script>
		let isPasswordVisible = false;
		
        function verifier() {
            alert("Mot de passe v√©rifi√© !");
        }
		
        function togglePasswordVisibility() {
            const passwordField = document.getElementById("password");
            isPasswordVisible = !isPasswordVisible;
            passwordField.type = isPasswordVisible ? "text" : "password";
        }

        function validatePassword() {
            const password = document.getElementById("password").value;
            const messageElement = document.getElementById("message");

            // R√®gles pour les lettres et les chiffres
            const lowercaseRegex = /[a-z]/g;
            const uppercaseRegex = /[A-Z]/g;
            const digitsRegex = /[0-9]/g;

            // Trouver les correspondances dans le mot de passe
            const lowercaseMatches = password.match(lowercaseRegex) || [];
            const uppercaseMatches = password.match(uppercaseRegex) || [];
            const digitsMatches = password.match(digitsRegex) || [];

            // V√©rifier les conditions
            const has5UniqueLowercase = lowercaseMatches.length === 5 && new Set(lowercaseMatches).size === 5;
            const has6UniqueUppercase = uppercaseMatches.length === 6 && new Set(uppercaseMatches).size === 6;
            const has8UniqueDigits = digitsMatches.length === 8 && new Set(digitsMatches).size === 8;

            // V√©rifier si les lettres en minuscules ne sont pas cons√©cutives
            const areLowercaseNonConsecutive = !lowercaseMatches.some((char, i) => {
                if (i > 0) {
                    return char.charCodeAt(0) === lowercaseMatches[i - 1].charCodeAt(0) + 1;
                }
                return false;
            });

            // Valider le mot de passe
            if (has5UniqueLowercase && areLowercaseNonConsecutive && has6UniqueUppercase && has8UniqueDigits) {
                messageElement.textContent = "Mot de passe valide !";
                messageElement.style.color = "green";
            } else {
                messageElement.textContent = "Mot de passe invalide. V√©rifiez les crit√®res :\n" +
                    "- 5 lettres minuscules non cons√©cutives\n" +
                    "- 6 lettres majuscules toutes diff√©rentes\n" +
                    "- 8 chiffres diff√©rents";
                messageElement.style.color = "red";
            }
        }
    </script>
</body>
</html>
